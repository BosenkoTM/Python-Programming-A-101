# Перечень задач (Лабораторная работа №3)
## Тема. Алгоритмы поиска и сортировки в одномерных массивах

Здесь представлен список из 20 задач. Для каждой задачи указаны условие, шаблон кода, который должен видеть студент, и тестовые данные для проверки (Test cases).

---

### БЛОК 1. АЛГОРИТМЫ ПОИСКА

#### Задача 1. Линейный поиск числа
**Условие:**
Напишите функцию `linear_search(arr, target)`, которая реализует алгоритм линейного поиска. Функция должна принимать список целых чисел `arr` и искомое число `target`. Функция возвращает индекс первого вхождения числа или `-1`, если число не найдено.

**Шаблон для студента:**
```python
def linear_search(arr, target):
    # Напишите ваш код здесь
    pass
```

**Тестовые данные:**
```python
print(linear_search([10, 50, 30, 70, 80, 20], 30)) # Ожидается: 2
print(linear_search([10, 50, 30, 70], 99))         # Ожидается: -1
print(linear_search([5], 5))                       # Ожидается: 0
```

#### Задача 2. Линейный поиск строки
**Условие:**
Напишите функцию `linear_search_str(arr, target)`, которая ищет строку `target` в списке строк `arr`. Возвращает индекс найденного элемента или `-1`. Сравнение должно быть регистрозависимым.

**Шаблон для студента:**
```python
def linear_search_str(arr, target):
    # Напишите ваш код здесь
    pass
```

**Тестовые данные:**
```python
print(linear_search_str(["apple", "banana", "cherry"], "banana")) # Ожидается: 1
print(linear_search_str(["apple", "banana"], "Apple"))            # Ожидается: -1
print(linear_search_str([], "test"))                              # Ожидается: -1
```

#### Задача 3. Бинарный поиск (Классический)
**Условие:**
Напишите функцию `binary_search(arr, target)`, которая выполняет бинарный поиск числа `target` в **отсортированном** по возрастанию списке `arr`. Если элемент найден, вернуть его индекс, иначе `-1`.

**Шаблон для студента:**
```python
def binary_search(arr, target):
    # Напишите ваш код здесь (используйте цикл while или рекурсию)
    pass
```

**Тестовые данные:**
```python
print(binary_search([1, 3, 5, 7, 9, 11], 9)) # Ожидается: 4
print(binary_search([1, 3, 5, 7], 2))        # Ожидается: -1
print(binary_search([10], 10))               # Ожидается: 0
```

#### Задача 4. Поиск транзакции (Бизнес-задача)
**Условие:**
В банковской системе логи транзакций хранятся в списке `ids`, отсортированном по возрастанию ID. Реализуйте функцию `search_transaction(ids, target_id)`, которая быстро (за время $O(\log n)$) находит индекс транзакции с заданным `target_id`.

**Шаблон для студента:**
```python
def search_transaction(ids, target_id):
    # Реализуйте бинарный поиск
    pass
```

**Тестовые данные:**
```python
print(search_transaction([1001, 1005, 1010, 1025], 1010)) # Ожидается: 2
print(search_transaction([500, 600, 700], 550))           # Ожидается: -1
```

#### Задача 5. Поиск первой просрочки (Бизнес-задача)
**Условие:**
Дан список `delays`, содержащий количество дней просрочки по кредитам (список не отсортирован). Напишите функцию `find_overdue_payment(delays, limit)`, которая находит индекс **первого** клиента (с начала списка), чья просрочка **строго больше** `limit` дней. Если таких нет, вернуть `-1`.

**Шаблон для студента:**
```python
def find_overdue_payment(delays, limit):
    # Напишите ваш код здесь
    pass
```

**Тестовые данные:**
```python
print(find_overdue_payment([0, 5, 12, 3, 40], 10)) # Ожидается: 2
print(find_overdue_payment([1, 2, 3], 5))          # Ожидается: -1
```

---

### БЛОК 2. ПУЗЫРЬКОВАЯ СОРТИРОВКА

#### Задача 6. Сортировка пузырьком (Числа)
**Условие:**
Реализуйте функцию `bubble_sort(arr)`, которая сортирует список целых чисел `arr` по возрастанию методом пузырька (in-place, то есть изменяя исходный список).

**Шаблон для студента:**
```python
def bubble_sort(arr):
    # Реализуйте сортировку пузырьком
    pass
```

**Тестовые данные:**
```python
a = [5, 2, 9, 1, 5, 6]; bubble_sort(a); print(a) # Ожидается: [1, 2, 5, 5, 6, 9]
a = [3, 2, 1]; bubble_sort(a); print(a)          # Ожидается: [1, 2, 3]
```

#### Задача 7. Сортировка пузырьком (Строки по длине)
**Условие:**
Реализуйте функцию `bubble_sort_desc_len(arr)`, которая сортирует список строк `arr` по **убыванию их длины** (от самых длинных к самым коротким).

**Шаблон для студента:**
```python
def bubble_sort_desc_len(arr):
    # Напишите ваш код здесь
    pass
```

**Тестовые данные:**
```python
a = ["a", "ccc", "bb"]; bubble_sort_desc_len(a); print(a) # Ожидается: ['ccc', 'bb', 'a']
a = ["one", "two", "three"]; bubble_sort_desc_len(a); print(a) # Ожидается: ['three', 'one', 'two']
```

#### Задача 8. Рейтинг продаж (Бизнес-задача)
**Условие:**
Дан список сумм продаж `sales` (float). Напишите функцию `sort_sales_data(sales)`, которая сортирует продажи от самой большой к самой маленькой (по убыванию), используя пузырьковую сортировку.

**Шаблон для студента:**
```python
def sort_sales_data(sales):
    # Реализуйте сортировку по убыванию
    pass
```

**Тестовые данные:**
```python
a = [100.5, 50.0, 200.0]; sort_sales_data(a); print(a) # Ожидается: [200.0, 100.5, 50.0]
a = [10.0, 20.0, 30.0]; sort_sales_data(a); print(a)   # Ожидается: [30.0, 20.0, 10.0]
```

#### Задача 9. Анализ эффективности (Счетчик обменов)
**Условие:**
Напишите функцию `bubble_sort_count_swaps(arr)`, которая сортирует массив пузырьком и возвращает **количество перестановок (swaps)**, совершенных во время сортировки. Массив должен быть отсортирован на месте.

**Шаблон для студента:**
```python
def bubble_sort_count_swaps(arr):
    swaps = 0
    # Допишите логику сортировки и подсчета
    return swaps
```

**Тестовые данные:**
```python
print(bubble_sort_count_swaps([3, 2, 1])) # Ожидается: 3
print(bubble_sort_count_swaps([1, 2, 3])) # Ожидается: 0
```

---

### БЛОК 3. СОРТИРОВКА ВЫБОРОМ

#### Задача 10. Сортировка выбором (Числа)
**Условие:**
Реализуйте функцию `selection_sort(arr)`, выполняющую сортировку выбором (Selection Sort) по возрастанию. Алгоритм: найти минимум в неотсортированной части и поменять его с первым элементом этой части.

**Шаблон для студента:**
```python
def selection_sort(arr):
    # Реализуйте сортировку выбором
    pass
```

**Тестовые данные:**
```python
a = [64, 25, 12, 22, 11]; selection_sort(a); print(a) # Ожидается: [11, 12, 22, 25, 64]
a = [3, 3, 1]; selection_sort(a); print(a)            # Ожидается: [1, 3, 3]
```

#### Задача 11. Сортировка символов
**Условие:**
Реализуйте функцию `selection_sort_chars(arr)`, которая сортирует список символов `arr` в алфавитном порядке методом выбора.

**Шаблон для студента:**
```python
def selection_sort_chars(arr):
    # Напишите ваш код здесь
    pass
```

**Тестовые данные:**
```python
a = ['c', 'a', 'b']; selection_sort_chars(a); print(a) # Ожидается: ['a', 'b', 'c']
a = ['z', 'x', 'y']; selection_sort_chars(a); print(a) # Ожидается: ['x', 'y', 'z']
```

#### Задача 12. Цены конкурентов (Бизнес-задача)
**Условие:**
Дан список цен конкурентов `prices` (float). Маркетологам нужно отсортировать их по возрастанию, чтобы найти минимальные предложения. Используйте сортировку выбором в функции `sort_competitor_prices(prices)`.

**Шаблон для студента:**
```python
def sort_competitor_prices(prices):
    # Реализуйте сортировку выбором
    pass
```

**Тестовые данные:**
```python
a = [99.9, 45.0, 50.0]; sort_competitor_prices(a); print(a) # Ожидается: [45.0, 50.0, 99.9]
a = [500.0, 100.0]; sort_competitor_prices(a); print(a)     # Ожидается: [100.0, 500.0]
```

#### Задача 13. Вспомогательная функция: Поиск индекса минимума
**Условие:**
Для реализации сортировки выбором часто нужна функция `get_min_index(arr, start_index)`. Она должна возвращать **индекс** минимального элемента в списке `arr`, рассматривая элементы только от `start_index` до конца списка.

**Шаблон для студента:**
```python
def get_min_index(arr, start_index):
    # Найдите индекс минимума в срезе arr[start_index:]
    pass
```

**Тестовые данные:**
```python
print(get_min_index([10, 50, 20, 5, 40], 1)) # Ожидается: 3
print(get_min_index([10, 20, 30], 0))        # Ожидается: 0
```

---

### БЛОК 4. СОРТИРОВКА ВСТАВКАМИ

#### Задача 14. Сортировка вставками (Числа)
**Условие:**
Реализуйте функцию `insertion_sort(arr)`, которая сортирует список целых чисел по возрастанию методом вставок (Insertion Sort).

**Шаблон для студента:**
```python
def insertion_sort(arr):
    # Реализуйте сортировку вставками
    pass
```

**Тестовые данные:**
```python
a = [12, 11, 13, 5, 6]; insertion_sort(a); print(a) # Ожидается: [5, 6, 11, 12, 13]
a = [4, 3, 2, 1]; insertion_sort(a); print(a)       # Ожидается: [1, 2, 3, 4]
```

#### Задача 15. Сортировка вставками (Float)
**Условие:**
Реализуйте функцию `insertion_sort_float(arr)`, которая сортирует список чисел с плавающей точкой (`float`) методом вставок.

**Шаблон для студента:**
```python
def insertion_sort_float(arr):
    # Напишите ваш код здесь
    pass
```

**Тестовые данные:**
```python
a = [1.1, 0.9, 1.2]; insertion_sort_float(a); print(a) # Ожидается: [0.9, 1.1, 1.2]
a = [5.5, 2.2, 8.8]; insertion_sort_float(a); print(a) # Ожидается: [2.2, 5.5, 8.8]
```

#### Задача 16. Хронология заявок (Бизнес-задача)
**Условие:**
Заявки в системе имеют временную метку (`timestamp`, целое число). Поток меток пришел с небольшими нарушениями порядка (почти отсортирован). Напишите функцию `sort_invoices(timestamps)`, которая использует сортировку вставками для упорядочивания списка (так как этот метод эффективен для почти отсортированных данных).

**Шаблон для студента:**
```python
def sort_invoices(timestamps):
    # Реализуйте сортировку вставками
    pass
```

**Тестовые данные:**
```python
a = [100, 102, 101, 103]; sort_invoices(a); print(a) # Ожидается: [100, 101, 102, 103]
a = [5, 4, 6, 7]; sort_invoices(a); print(a)         # Ожидается: [4, 5, 6, 7]
```

#### Задача 17. Оптимизация для почти отсортированных данных
**Условие:**
Реализуйте функцию `insertion_sort_optimized(arr)` (обычная сортировка вставками). Тест проверит, правильно ли она работает на массиве, где переставлены только два элемента.

**Шаблон для студента:**
```python
def insertion_sort_optimized(arr):
    # Реализуйте сортировку вставками
    pass
```

**Тестовые данные:**
```python
a = [1, 2, 3, 5, 4]; insertion_sort_optimized(a); print(a) # Ожидается: [1, 2, 3, 4, 5]
```

---

### БЛОК 5. СОРТИРОВКА ШЕЛЛА И АНАЛИТИКА

#### Задача 18. Сортировка Шелла
**Условие:**
Реализуйте функцию `shell_sort(arr)`. Начальный шаг (`gap`) должен быть равен `len(arr) // 2` и уменьшаться вдвое на каждой итерации (целочисленное деление).

**Шаблон для студента:**
```python
def shell_sort(arr):
    # Реализуйте сортировку Шелла с шагом n // 2
    pass
```

**Тестовые данные:**
```python
a = [12, 34, 54, 2, 3]; shell_sort(a); print(a) # Ожидается: [2, 3, 12, 34, 54]
a = [5, 4, 3, 2, 1]; shell_sort(a); print(a)    # Ожидается: [1, 2, 3, 4, 5]
```

#### Задача 19. Анализ больших данных (User IDs) (Бизнес-задача)
**Условие:**
Есть список ID пользователей `ids` (целые числа). Реализуйте функцию `sort_large_user_ids(ids)` с использованием сортировки Шелла, так как она работает быстрее простых квадратичных алгоритмов на средних массивах.

**Шаблон для студента:**
```python
def sort_large_user_ids(ids):
    # Реализуйте сортировку Шелла
    pass
```

**Тестовые данные:**
```python
a = [900, 100, 500, 300]; sort_large_user_ids(a); print(a) # Ожидается: [100, 300, 500, 900]
a = [1000, 1, 10]; sort_large_user_ids(a); print(a)        # Ожидается: [1, 10, 1000]
```

#### Задача 20. Проверка отсортированности (Валидатор)
**Условие:**
Напишите функцию-утилиту `is_sorted(arr)`, которая проверяет, отсортирован ли массив `arr` по возрастанию. Функция должна возвращать `True`, если массив отсортирован, и `False`, если нет.

**Шаблон для студента:**
```python
def is_sorted(arr):
    # Проверьте, упорядочен ли массив
    pass
```

**Тестовые данные:**
```python
print(is_sorted([1, 2, 3, 4])) # Ожидается: True
print(is_sorted([1, 3, 2, 4])) # Ожидается: False
print(is_sorted([1]))          # Ожидается: True
```
